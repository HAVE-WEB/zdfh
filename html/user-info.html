<!doctype html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>修改个人信息</title>

    <!-- Set render engine for 360 browser -->
    <meta name="renderer" content="webkit">

    <!-- No Baidu Siteapp-->
    <meta http-equiv="Cache-Control" content="no-siteapp"/>

    <link rel="icon" type="image/png" href="i/favicon.png">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="i/app-icon72x72@2x.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Amaze UI"/>
    <link rel="apple-touch-icon-precomposed" href="i/app-icon72x72@2x.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="i/app-icon72x72@2x.png">
    <meta name="msapplication-TileColor" content="#0e90d2">

    <!-- Amaze UI CSS -->
    <link rel="stylesheet" href="../assets/css/amazeui.css">
    <link rel="stylesheet" href="../assets/css/sl.css">
    <link rel="stylesheet" href="../assets/css/plugin/mvalidate/validate.css">
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/amazeui.js"></script>
    <link rel="stylesheet" href="../assets/css/picker.css">
    <script src="../assets/js/picker.js"></script>
    <script src="../assets/js/data/city.js"></script>
    <script src="../assets/js/data/hospitalLeave.js"></script>
    <script src="../assets/js/data/hospitalOffice.js"></script>
    <script src="../assets/js/data/education.js"></script>
    <script src="../assets/js/myFirst.js"></script>
    <script src="../assets/js/plugin/mvalidate/jquery-mvalidate.js"></script>
    <style>
        input:focus{
            outline: none;
        }
    </style>
</head>
<body>

<form class="am-form " id="doc-valid-msg">
    <fieldset>

        <div class="am-g sl-flex-row-center-center  sl-padding-0px">
            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12 sl-flex-row-center-center" >
                <img src="../assets/images/car.png" alt="" style="width: 30%;height: 30%">
            </div>
        </div>

        <!--<div class=" sl-flex-column-center-center  " >-->
            <!--<div class="sl-flex-row-center-space-between am-g sl-background-color-white">-->
                <!--<div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-flex-start sl-padding-0px" >-->
                    <!--<span>姓名:</span>-->
                <!--</div>-->
                <!--<div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">-->
                    <!--<input type="text" placeholder="请输入姓名" name="userName" >-->
                <!--</div>-->
            <!--</div>-->
            <!--<hr style="margin: 0px; border-top: 1px solid #CCCCCC;width: 80%;"/>-->
        <!--</div>-->


        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                <i class="am-icon-asterisk  sl-icon-color-dd514c"></i><span>姓名:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请输入姓名"   name="userName" id="userName" data-required="true" data-descriptions="userName" >
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                <i class="am-icon-asterisk  sl-icon-color-dd514c"></i><span>联系地址:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请选择联系地址" onclick="pickerAddress()" name="address" id="address" readonly  data-required="true" data-descriptions="address" >
            </div>
        </div>


        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-padding-0px" >
                <i class="am-icon-asterisk  sl-icon-color-dd514c"></i><span>医院:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 sl-flex-row-center-flex-start">
                <input type="text" placeholder="请输入医院" name="hospital" style="width:70%" id="hospital" data-required="true" data-descriptions="hospital">
                <!--<a class="sl-margin-left-10px sl-background-color-FFCCCC sl-font-color-FF6666 sl-padding-2px-5px" href="hospitalSearch.html">选 择</a>-->
                <a class="sl-margin-left-10px sl-background-color-FFCCCC sl-font-color-FF6666 sl-padding-2px-5px" id="goSearchPage">选 择</a>
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                <i class="am-icon-asterisk  sl-icon-color-dd514c"></i><span>等级:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请选择等级" onclick="pickerHospitalLevel()" name="hospitalLevel" id="hospitalLevel" readonly  data-required="true" data-descriptions="hospitalLevel">
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                <i class="am-icon-asterisk  sl-icon-color-dd514c"></i><span>科室:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请选择科室" onclick="pickerHospitalOffice()" name="hospitalOffice" id="hospitalOffice"  readonly  data-required="true" data-descriptions="hospitalOffice">
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                <span>职务:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请输入职务"  >
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                <span>身份证:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请输入身份证">
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                <span>品种:</span>
            </div>
            <div class="am-form-group am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <label class="am-checkbox-inline">
                    <input type="checkbox" value="option1"> 选我
                </label>
                <label class="am-checkbox-inline">
                    <input type="checkbox" value="option2"> 同时可以选我
                </label>
                <label class="am-checkbox-inline">
                    <input type="checkbox" value="option3"> 还可以选我
                </label>
            </div>
        </div>

        <ul class="am-list admin-sidebar-list" id="collapase-nav-1">
            <li class="am-panel">
                <a data-am-collapse="{parent: '#collapase-nav-1', target: '#user-nav'}">
                    <i class="am-icon-users am-margin-left-sm"></i> 显示更多 <i class="am-icon-angle-right am-fr am-margin-right"></i>
                </a>
                <ul class="am-list am-collapse admin-sidebar-sub" id="user-nav">
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>品种认知态度</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请输入品种认知态度">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>学历背景</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请选择学历背景" onclick="pickerEducation()" id="education">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>社会职务</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请输入社会职务">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>兴趣</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请输入兴趣">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>党派</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请输入党派">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>宗教信仰</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请输入宗教信仰">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>家庭状态</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请输入家庭状态">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>学术分级</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请选择学术分级" onclick="pickerEducation()" >
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>销售分级</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请选择销售分级" onclick="pickerEducation()">
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
                            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center  sl-padding-0px" >
                                <span>销售等级</span>
                            </div>
                            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                                <input type="text" placeholder="请选择销售等级" onclick="pickerEducation()" >
                            </div>
                        </div>
                    </li>
                </ul>
            </li>
        </ul>

        <button type="submit" class="am-btn am-btn-default am-btn-warning" style="position: fixed;top: 0px;"  id="user-Info-btn" >提交</button>
        <!--<a type="submit" class="am-btn am-btn-default am-btn-warning"   href="my.html" >提交</a>-->
    </fieldset>
</form>


<!--<div class="am-modal am-modal-alert" tabindex="-1" id="selectAddress">-->
    <!--<div class="am-modal-dialog">-->
        <!--<div class="am-modal-hd">提示信息</div>-->
        <!--<div class="am-modal-bd">-->
            <!--请选择地址-->
        <!--</div>-->
        <!--<div class="am-modal-footer">-->
            <!--<span class="am-modal-btn">确定</span>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->
</body>
<script>
    //表单验证
    $(function () {
        $("#doc-valid-msg").mvalidate({
            type:1,
            onKeyup:true,
            validateInSubmit:true,
            sendForm:true,
            firstInvalidFocus:false,
            valid:function(event,options){
                //点击提交按钮时,表单通过验证触发函数
                //alert("验证通过！接下来可以做你想做的事情啦！");
                //event.preventDefault();
                history.back();
            },
            invalid:function(event, status, options){
                //点击提交按钮时,表单未通过验证触发函数
            },
            eachField:function(event,status,options){
                //点击提交按钮时,表单每个输入域触发这个函数 this 执向当前表单输入域，是jquery对象
            },
            eachValidField:function(val){},
            eachInvalidField:function(event, status, options){},
            conditional:{
                confirmpwd:function(){
                    return $("#pwd").val()==$("#confirmpwd").val();
                }
            },
            descriptions:{
                userName:{
                    required : '请输入用户名'
                },
                address:{
                    required : '请选择地址'
                },
                hospital : {
                    required : '请输入或选择医院',
                },
                hospitalLevel:{
                    required : '请选择登记'
                },
                hospitalOffice:{
                    required : '请选择科室',
                },

            }
        });
    })
//    window.onpopstate = function(event) {
//        alert("location: " + document.location + ", state: " + JSON.stringify(event.state));
//    };
//    jQuery(document).ready(function () {
//        $("#doc-valid-msg").validator({
//            onValid: function (validity) {
//                $(validity.field).closest('.am-g').find('.am-alert').hide();
//            },
//            onInValid: function (validity) {
//                var $field = $(validity.field);
//                var $group = $field.closest('.am-g');
//                var $alert = $group.find('.am-alert');
//                var msg = $field.data('validationMessage') || this.getValidationMessage(validity);
//                if(!$alert.length){
//                    $alert = $('<div class="am-alert am-alert-danger"></div>').hide().insertAfter($group);
//                }
//                $alert.html(msg).show();
//            }
//        })
//    })
    //不同屏幕，文字的排版
    $(document).ready(function () {
        var rem = new Rem();
        rem.adapterWidth_object();
    });
    $(document).ready(function () {
        //设置按钮的位置
        var p=location.host;
        var w_window = window.innerWidth;
        var ow = $("#user-Info-btn").outerWidth();
        $("#user-Info-btn").css("left",(w_window - ow)+"px");

//        //获取URL的参数
//        var name = "result";
//        var locationSearch = decodeURI(location.search);
//        if(locationSearch.indexOf(name) != -1){
//                var pos_start = locationSearch.indexOf(name)+name.length+1;
//                var pos_end = locationSearch.indexOf("&",pos_start);
//        }
//        if(pos_end ==  -1){
//            var hos = locationSearch.substr(pos_start)
//            $("#hospital").val(hos);
//        }
        //从本地存储获取值
//        var result= localStorage['result'];
        var result =  sessionStorage.getItem("result");
        $("#hospital").val(result);
        sessionStorage.removeItem("result");
    });
    //选择省市区控件
    function pickerAddress() {
        var address = document.getElementById('address');
        new Picker({
            "title": '请选择',//标题(可选)
            "defaultValue": address.value,//默认值-多个以空格分开（可选）
            "data": cityData,//数据(必传)
            "keys": {
                "id": "Code",
                "value": "Name",
                "childData": "level"//最多3级联动
            },//数组内的键名称(必传，id、text、data)
            "callBack": function (val) {
                //回调函数（val为选择的值）
                address.value = val;
            }
        });
    }
    //选择等级
    function pickerHospitalLevel() {
        var hospitalLevel = document.getElementById('hospitalLevel');
        new Picker({
            "title": '请选择',//标题(可选)
            "defaultValue": hospitalLevel.value,//默认值（可选）
            "type": 1,//需要联动级数[1、2、3]（可选、不传时默认获取数据的深度,最多3级）
            "data": levelData,//数据(必传)
            "keys": {
                "id": "Code",
                "value": "Name",
                "childData": "level"//最多3级联动
            },//数组内的键名称(必传，id、text、data)
            "callBack": function (val) {
                //回调函数（val为选择的值）
                hospitalLevel.value = val;
            }
        });
    };
    //选择科室
    function pickerHospitalOffice() {
        var hospitalOffice = document.getElementById('hospitalOffice');
        new Picker({
            "title": '请选择',//标题(可选)
            "defaultValue": hospitalOffice.value,//默认值（可选）
            "type": 1,//需要联动级数[1、2、3]（可选、不传时默认获取数据的深度,最多3级）
            "data": officeData,//数据(必传)
            "keys": {
                "id": "Code",
                "value": "Name",
                "childData": "level"//最多3级联动
            },//数组内的键名称(必传，id、text、data)
            "callBack": function (val) {
                //回调函数（val为选择的值）
                hospitalOffice.value = val;
            }
        });
    };
    //选择学校
    function pickerEducation() {
        var education = document.getElementById('education');
        new Picker({
            "title": '请选择',//标题(可选)
            "defaultValue": education.value,//默认值（可选）
            "type": 1,//需要联动级数[1、2、3]（可选、不传时默认获取数据的深度,最多3级）
            "data": educationData,//数据(必传)
            "keys": {
                "id": "Code",
                "value": "Name",
                "childData": "level"//最多3级联动
            },//数组内的键名称(必传，id、text、data)
            "callBack": function (val) {
                //回调函数（val为选择的值）
                education.value = val;
            }
        });
    };
//    function backMy() {
//        alert(111)
//        location.replace("my.html");
//    }
//    $("#user-Info-btn").on("click",function () {
//
//
////        history.go(-1);
//        //location.replace("my.html");//这个为什么不行，因为在history的列表已经有了my.html的URL的值，所以不会跳转
////        if($("#doc-valid-msg").valid){
////            alert(1111);
////            history.back();
////        }
//        history.back();
////        var stateObj = {foo:'bar'};
////       history.replaceState(stateObj,'我的页面','my.html');
//        //alert(2222);
//    });


    //选择按钮的click事件
    $("#goSearchPage").click(function () {
        var val = $("#address").val();
        //console.log("val:"+val);
        if(val == ""){
            alert("请选择联系地址");
            //$("#address").focus();
        }else{
            //alert("search");
            location.href="hospitalSearch.html";
            //self.location('hospitalSearch.html')
        }
    })
</script>
</html>