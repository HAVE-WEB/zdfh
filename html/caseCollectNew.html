<!doctype html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>新建病例</title>

    <!-- Set render engine for 360 browser -->
    <meta name="renderer" content="webkit">

    <!-- No Baidu Siteapp-->
    <meta http-equiv="Cache-Control" content="no-siteapp"/>

    <link rel="icon" type="image/png" href="i/favicon.png">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="i/app-icon72x72@2x.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Amaze UI"/>
    <link rel="apple-touch-icon-precomposed" href="i/app-icon72x72@2x.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="i/app-icon72x72@2x.png">
    <meta name="msapplication-TileColor" content="#0e90d2">

    <!-- Amaze UI CSS -->
    <link rel="stylesheet" href="../assets/css/amazeui.css">
    <link rel="stylesheet" href="../assets/css/upload/zyUpload.css">
    <link rel="stylesheet" href="../assets/css/sl.css">
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/amazeui.js"></script>
    <link rel="stylesheet" href="../assets/css/picker.css">
    <script src="../assets/js/picker.js"></script>
    <script src="../assets/js/data/city.js"></script>
    <script src="../assets/js/data/hospitalLeave.js"></script>
    <script src="../assets/js/data/hospitalOffice.js"></script>
    <script src="../assets/js/data/education.js"></script>
    <!--<script src="../assets/js/upload/zyUpload.js"></script>
    <script src="../assets/js/upload/zyFile.js"></script>
    <script src="../assets/js/upload/jq22.js.js"></script>-->

    <style>
        input:focus{
            outline: none;
        }
    </style>
</head>
<body>

<form class="am-form ">
    <fieldset>

        <div class="am-g sl-flex-row-center-center sl-font-size-16px sl-padding-0px">
            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12 sl-flex-row-center-center" >
                <img src="../assets/images/car.png" alt="" style="width: 30%;height: 30%">
            </div>
        </div>



        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-font-size-16px sl-padding-0px" >
                <span>姓名:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请输入姓名"  >
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-font-size-16px sl-padding-0px" >
                <span>联系地址:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请选择联系地址" onclick="pickerAddress()" name="address" id="address" readonly>
            </div>
        </div>


        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-padding-0px" >
                <span>医院:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 sl-flex-row-center-flex-start">
                <input type="text" placeholder="请输入医院" name="hospital" style="width:70%" id="hospital" >
                <!--<a class="sl-margin-left-10px sl-background-color-FFCCCC sl-font-color-FF6666 sl-padding-2px-5px " id="goSearchPage" href="hospitalSearch.html">选 择</a>-->
                <a class="sl-margin-left-10px sl-background-color-FFCCCC sl-font-color-FF6666 sl-padding-2px-5px " id="goSearchPage" >选 择</a>
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-font-size-16px sl-padding-0px" >
                <span>等级:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请选择等级" onclick="pickerHospitalLevel()" name="hospitalLevel" id="hospitalLevel" readonly>
            </div>
        </div>

        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-font-size-16px sl-padding-0px" >
                <span>科室:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请选择科室" onclick="pickerHospitalOffice()" name="hospitalOffice" id="hospitalOffice" readonly>
            </div>
        </div>

        <!--<div class="am-g sl-flex-row-center-center sl-margin-top-10px">-->
            <!--<div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-font-size-16px sl-padding-0px" >-->
                <!--<span>职务:</span>-->
            <!--</div>-->
            <!--<div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">-->
                <!--<input type="text" placeholder="请输入职务"  >-->
            <!--</div>-->
        <!--</div>-->



        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-font-size-16px sl-padding-0px" >
                <span>品种:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请选择品种" onclick="pickerType()" name="type" id="type" readonly>
            </div>
        </div>
        <div class="am-g sl-flex-row-center-center sl-margin-top-10px">
            <div class="am-u-sm-3 am-u-md-3 am-u-lg-3 sl-flex-row-center-center sl-font-size-16px sl-padding-0px" >
                <span>简单描述:</span>
            </div>
            <div class="am-u-sm-9 am-u-md-9 am-u-lg-9 ">
                <input type="text" placeholder="请输入描述">
            </div>
        </div>
        <!--<div class="am-form-file sl-margin-top-10px">-->
            <!--&lt;!&ndash;<button type="button" class="am-btn am-btn-danger am-btn-sm">&ndash;&gt;-->
                <!--&lt;!&ndash;<i class="am-icon-cloud-upload"></i> 拍照上传[最多9张]</button>&ndash;&gt;-->
            <!--<input id="doc-form-file" type="file" multiple>-->
        <!--</div>-->
        <!--<span>图片列表[点击删除]</span>-->
        <!--<div id="file-list"></div>-->

        <!--<h1 style="text-align:center;">Html5 Upload示例</h1>-->

        <!--<div id="demo" class="demo"></div>-->
        <!--<div id="result"></div>-->
        <div class="am-g sl-margin-top-10px">
            <div class="am-u-sm-12 am-u-md-12 am-u-lg-12">
                <!--<input type="file" id="file" multiple size="80" onchange="html5Upload()"/>-->
                <div class="am-form-group am-form-file">
                    <button type="button" class="am-btn am-btn-danger am-btn-sm">
                        <i class="am-icon-cloud-upload"></i> 选择要上传的文件</button>
                    <input id="doc-form-file" type="file" multiple onchange="html5Upload()">
                </div>
            </div>
        </div>


        <ul class="am-avg-sm-4 am-avg-md-4 am-avg-lg-4" id="result">

        </ul>
        <button type="submit" class="am-btn am-btn-default am-btn-warning" style="position: fixed;top: 0px;" id="button">提交</button>
    </fieldset>
</form>

</body>
<script>
    var result = $("#result");
//    if(typeof FileReader == 'undefined') {
//        result.innerHTML = "抱歉，你的浏览器不支持FileReader";
//    }
    //将文件以DataURL形式读入页面
    function html5Upload() {
        var str = "";
        var file;
        var fileReader;
        var fileTag = document.getElementById("doc-form-file").files;

        for (var i = 0; i < fileTag.length; i++) {
            file = fileTag[i];
            fileReader = new FileReader();
            fileReader.readAsDataURL(file);
            fileReader.onload = (function () {//this代表fileReader对象
                var img = '<li><img src="' + this.result + '" alt="" class="am-thumbnail" style="width: 95%;height: 95%"/></li>';
                $(img).appendTo(result);
            })
        }
    }
    function ShowFileName() {
        var files = document.getElementById("file").files;
        for(var i = 0; i < files.length; i+=1) {
            var file = files[i];
            console.log(file);
            console.log(file.name);
        }
    }

    $(document).ready(function () {
        //计算按钮的位置
        var w_window = window.innerWidth;
        var oh = $("#button").outerHeight();
        var ow = $("#button").outerWidth();
        $("#button").css("left",(w_window - ow)+"px");


        //获取从查询页面传来的数据
        //第一种方法读取
        var result_1 = localStorage.result;
        //第二中方法读取
        var result= localStorage['result'];
        //第三种方法读取
        var result_3=localStorage.getItem("result");
         var session = sessionStorage.getItem("result");
        $("#hospital").val(session);
        //localStorage.removeItem("result")
        sessionStorage.removeItem("result");
//        localStorage.clear();
    })
    //选择省市区控件
    function pickerAddress() {
        var address = document.getElementById('address');
        new Picker({
            "title": '请选择',//标题(可选)
            "defaultValue": address.value,//默认值-多个以空格分开（可选）
            "data": cityData,//数据(必传)
            "keys": {
                "id": "Code",
                "value": "Name",
                "childData": "level"//最多3级联动
            },//数组内的键名称(必传，id、text、data)
            "callBack": function (val) {
                //回调函数（val为选择的值）
                address.value = val;
            }
        });
    }
    //选择等级
    function pickerHospitalLevel() {
        var hospitalLevel = document.getElementById('hospitalLevel');
        new Picker({
            "title": '请选择',//标题(可选)
            "defaultValue": hospitalLevel.value,//默认值（可选）
            "type": 1,//需要联动级数[1、2、3]（可选、不传时默认获取数据的深度,最多3级）
            "data": levelData,//数据(必传)
            "keys": {
                "id": "Code",
                "value": "Name",
                "childData": "level"//最多3级联动
            },//数组内的键名称(必传，id、text、data)
            "callBack": function (val) {
                //回调函数（val为选择的值）
                hospitalLevel.value = val;
            }
        });
    };
    //选择科室
    function pickerHospitalOffice() {
        var hospitalOffice = document.getElementById('hospitalOffice');
        new Picker({
            "title": '请选择',//标题(可选)
            "defaultValue": hospitalOffice.value,//默认值（可选）
            "type": 1,//需要联动级数[1、2、3]（可选、不传时默认获取数据的深度,最多3级）
            "data": officeData,//数据(必传)
            "keys": {
                "id": "Code",
                "value": "Name",
                "childData": "level"//最多3级联动
            },//数组内的键名称(必传，id、text、data)
            "callBack": function (val) {
                //回调函数（val为选择的值）
                hospitalOffice.value = val;
            }
        });
    };
    //选择科室
    function pickerType() {
        var type = document.getElementById('type');
        new Picker({
            "title": '请选择',//标题(可选)
            "defaultValue": type.value,//默认值（可选）
            "type": 1,//需要联动级数[1、2、3]（可选、不传时默认获取数据的深度,最多3级）
            "data": educationData,//数据(必传)
            "keys": {
                "id": "Code",
                "value": "Name",
                "childData": "level"//最多3级联动
            },//数组内的键名称(必传，id、text、data)
            "callBack": function (val) {
                //回调函数（val为选择的值）
                type.value = val;
            }
        });
    };
    $("#button").click(function () {
        history.back();
//        window.location.href="caseCollectList.html";
    })
    //选择按钮的click事件
    $("#goSearchPage").click(function () {
        var val = $("#address").val();
        //console.log("val:"+val);
        if(val == ""){
            alert("请选择联系地址");
            //$("#address").focus();
        }else{
            //alert("search");
            location.href="hospitalSearch.html";
            //self.location('hospitalSearch.html')
        }
    })




</script>
</html>